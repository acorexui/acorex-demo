<div
  class="ax-flex ax-flex-col ax-items-center ax-justify-center ax-gap-6 ax-py-16 ax-text-center"
>
  <div>
    <div class="ax-h4">OTP Event Handling</div>
    <p class="ax-text-sm">Monitor events emitted by the OTP component</p>
  </div>

  <div class="ax-flex ax-gap-8 ax-items-start">
    <div class="ax-w-80">
      <ax-otp
        [(ngModel)]="otpValue"
        [length]="4"
        (onCompleted)="onCompleted($event)"
        (onValueChanged)="onValueChanged($event)"
        (onFocus)="onFocus()"
        (onBlur)="onBlur()"
        placeholder="Enter code"
      ></ax-otp>

      <div class="ax-mt-4 ax-flex ax-gap-2 ax-justify-center">
        <ax-button [size]="'sm'" (click)="resetOtp()"> Reset </ax-button>
        <ax-button [size]="'sm'" [color]="'primary'" (click)="clearLog()">
          Clear Log
        </ax-button>
      </div>
    </div>

    <div class="ax-w-80 ax-text-left">
      <div class="ax-h5 ax-mb-2">Event Log</div>
      <div
        class="ax-bg-gray-100 ax-p-3 ax-rounded ax-text-xs ax-font-mono ax-h-48 ax-overflow-y-auto"
      >
        @if (eventLog().length === 0) {
        <div class="ax-text-muted">
          No events yet. Try interacting with the OTP component.
        </div>
        } @else { @for (log of eventLog(); track $index) {
        <div class="ax-mb-1">{{ log }}</div>
        } }
      </div>
    </div>
  </div>

  <div class="ax-text-xs ax-text-muted">
    Current value: <strong>{{ otpValue() || "empty" }}</strong>
  </div>
</div>
