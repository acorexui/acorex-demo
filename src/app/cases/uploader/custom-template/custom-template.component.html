<div
  class="ax-flex ax-flex-col ax-items-center ax-justify-center ax-gap-4 ax-p-4"
>
  <div class="ax-w-full ax-max-w-2xl">
    <div
      axUploaderZone
      [overlayTemplate]="customOverlayTemplate"
      (fileChange)="onFileChange($event)"
      class="ax-flex ax-justify-center ax-items-center ax-border-2 ax-border-dashed ax-surface ax-rounded-lg ax-p-8 ax-text-center hover:ax-lighter-surface ax-transition-colors"
      style="min-height: 300px"
    >
      <div class="ax-flex ax-flex-col ax-items-center ax-gap-6">
        <div class="ax-text-4xl">ğŸ“</div>
        <div>
          <ax-title>Upload Files</ax-title>
          <ax-subtitle>
            Drag and drop files here or click anywhere to browse
          </ax-subtitle>
        </div>
      </div>
    </div>
  </div>

  @if (selectedFiles().length > 0) {
  <div class="ax-w-full ax-max-w-2xl ax-surface ax-rounded-lg ax-p-4">
    <div class="ax-flex ax-items-center ax-justify-between ax-mb-2">
      <ax-title>Selected Files</ax-title>
      <ax-button
        (onClick)="clearFiles()"
        text="Clear"
        color="danger"
        size="sm"
      ></ax-button>
    </div>
    <ul class="ax-space-y-2">
      @for (file of selectedFiles(); track file.name) {
      <li
        class="ax-flex ax-items-center ax-gap-2 ax-p-2 ax-dark-surface ax-rounded"
      >
        <span class="ax-text-sm">ğŸ“„</span>
        <span class="ax-text-sm ax-flex-1">{{ file.name }}</span>
        <span class="ax-text-xs ax-text-muted">
          {{ (file.size / 1024).toFixed(2) }} KB
        </span>
      </li>
      }
    </ul>
  </div>
  }
</div>

<!-- Custom Overlay Template -->
<ng-template #customOverlayTemplate>
  <div
    class="ax-flex ax-flex-col ax-items-center ax-justify-center ax-gap-4 ax-p-8"
  >
    <div class="ax-text-6xl custom-overlay-icon">ğŸ¯</div>
    <div class="ax-text-center">
      <ax-title style="font-size: 1.5rem; line-height: 2rem"
        >Drop Files Here</ax-title
      >
      <ax-subtitle style="margin-top: 0.5rem">
        Release to upload your files
      </ax-subtitle>
    </div>
    <div class="ax-flex ax-gap-2" style="margin-top: 1rem">
      <div class="ax-w-2 ax-h-2 ax-rounded-full custom-overlay-dot"></div>
      <div class="ax-w-2 ax-h-2 ax-rounded-full custom-overlay-dot"></div>
      <div class="ax-w-2 ax-h-2 ax-rounded-full custom-overlay-dot"></div>
    </div>
  </div>
</ng-template>
